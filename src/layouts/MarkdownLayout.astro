---
import '@fontsource/poppins'
import '../style/global.css'
import { SITE_TITLE } from '../consts'

import BaseHead from '../components/BaseHead.astro'
import Navbar from '../components/Navbar.astro'
import Footer from '../components/Footer.astro'
import { Image } from 'astro:assets'

const bannerImages = import.meta.glob<{ default: ImageMetadata }>(
  '/src/assets/**/*.{jpeg,jpg,png,gif}'
)

const { frontmatter } = Astro.props
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead
      title={`${frontmatter.title} - ${SITE_TITLE}`}
      description={frontmatter.description}
    />
  </head>
  <body class="bg-orange-100 text-gray-800">
    <Navbar />

    <!-- 
      || Banner images ||
      Show banner images if there are banner props in frontmatter
    -->
    {
      frontmatter.banner && (
        <Image
          src={bannerImages[frontmatter.banner]()}
          alt={frontmatter.title}
          class="object-cover w-full md:h-96"
        />
      )
    }

    <!-- Article content -->
    <div class="container mx-auto mt-8">
      <div class="grid justify-center px-6 md:px-0">
        <h1 class="font-bold text-2xl text-center">{frontmatter.title}</h1>
        <p class="text-center">{frontmatter.description}</p>
        <hr class="h-px my-4 border-0" />
        <article class="prose">
          <slot />
        </article>
      </div>
    </div>
    <Footer />
  </body>
</html>
